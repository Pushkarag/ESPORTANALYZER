{% extends "base.html" %}
{% block content %}

<div class="card p-4 mb-4">
  <h3>{{ row.player_name }}</h3>
  <p class="text-secondary mb-1">Rank: {{ row.rank }}</p>
  <p class="text-secondary mb-3">Matches: {{ row.matches_played }}</p>

  {% if row.auction_value %}
  <h5 class="mt-3">Predicted Auction Price: â‚¹{{ row.auction_value }}</h5>
  {% endif %}
</div>


<div class="card p-4 mb-4">
  <h4 class="mb-3">Performance Bars</h4>
  <canvas id="barChart" height="120"></canvas>
</div>

<script>
const bl = {{ bar_labels|tojson }};
const bv = {{ bar_values|tojson }};

new Chart(document.getElementById("barChart"), {
  type: "bar",
  data: {
    labels: bl,
    datasets: [{
      label: "Stats",
      data: bv,
      backgroundColor: ["#00eaff","#7f5cff","#ff3ec9","#00ffaa"],
      borderWidth:0,
      borderRadius:12
    }]
  },
  options:{responsive:true}
});
</script>


<div class="card p-4 mb-4">
  <h4 class="mb-3">Playstyle Radar</h4>
  <canvas id="radar" height="140"></canvas>
</div>

<script>
new Chart(document.getElementById("radar"), {
  type:"radar",
  data:{
    labels: {{ radar_labels|tojson }},
    datasets:[
      {
        label:"Playstyle",
        data: {{ radar_values|tojson }},
        borderColor:"#00eaff",
        backgroundColor:"rgba(0,234,255,0.25)"
      }
    ]
  }
});
</script>


<div class="card p-4">
  <h4>Improvement Strategy</h4>
  <ul class="mt-3">
    {% for t in tips %}
    <li class="mb-2">{{ t }}</li>
    {% endfor %}
  </ul>
</div>

{% endblock %}
